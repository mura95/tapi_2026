# ç€ã›æ›¿ãˆæ©Ÿèƒ½

## 1. æ¦‚è¦

çŠ¬ã«æœã€è¢«ã‚Šç‰©ã€ã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼ã‚’ç€ã›æ›¿ãˆã‚‹æ©Ÿèƒ½ã€‚FirebaseçµŒç”±ã§ãŸã£ã·ãƒã‚¦ã‚¹ã¨åŒæœŸã™ã‚‹ã€‚

---

## 2. æ©Ÿèƒ½ä»•æ§˜

### 2.1 ç€ã›æ›¿ãˆã‚«ãƒ†ã‚´ãƒª

| ã‚«ãƒ†ã‚´ãƒª | èª¬æ˜ | åŒæ™‚è£…ç€ |
|---------|------|---------|
| æœ | Tã‚·ãƒ£ãƒ„ã€ã‚¸ãƒ£ã‚±ãƒƒãƒˆã€ãƒ‰ãƒ¬ã‚¹ç­‰ | 1ã¤ |
| è¢«ã‚Šç‰© | å¸½å­ã€ãƒªãƒœãƒ³ã€ã‹ã¶ã‚Šã‚‚ã®ç­‰ | 1ã¤ |
| ã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼ | é¦–è¼ªã€ãƒ¡ã‚¬ãƒã€ãƒãƒƒã‚°ç­‰ | 2ã¤ã¾ã§ |

### 2.2 ã‚¢ã‚¤ãƒ†ãƒ ç®¡ç†

| è¦ç´  | èª¬æ˜ |
|------|------|
| æ‰€æŒã‚¢ã‚¤ãƒ†ãƒ  | ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‰€æŒã—ã¦ã„ã‚‹ã‚¢ã‚¤ãƒ†ãƒ  |
| è£…ç€ã‚¢ã‚¤ãƒ†ãƒ  | ç¾åœ¨çŠ¬ãŒç€ç”¨ã—ã¦ã„ã‚‹ã‚¢ã‚¤ãƒ†ãƒ  |
| ãƒ­ãƒƒã‚¯ã‚¢ã‚¤ãƒ†ãƒ  | æœªè§£æ”¾ã®ã‚¢ã‚¤ãƒ†ãƒ ï¼ˆå°†æ¥æ©Ÿèƒ½ï¼‰ |

---

## 3. ç”»é¢è¨­è¨ˆ

### 3.1 ç€ã›æ›¿ãˆç”»é¢

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â† æˆ»ã‚‹      ç€ã›æ›¿ãˆ         å®Œäº†   â”‚ â† ãƒ˜ãƒƒãƒ€ãƒ¼
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                     â”‚
â”‚                                     â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚         â”‚               â”‚           â”‚
â”‚         â”‚      ğŸ•       â”‚           â”‚ â† çŠ¬ï¼ˆä¸Šéƒ¨ã€ç”»é¢ã®40%ï¼‰
â”‚         â”‚    ï¼ˆ3Dï¼‰     â”‚           â”‚    å›è»¢æ“ä½œå¯èƒ½
â”‚         â”‚               â”‚           â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â”‚                                     â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚   â”‚ ğŸ”„ å›è»¢       ğŸ‘ ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼  â”‚   â”‚ â† ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ã‚«ãƒ†ã‚´ãƒªã‚¿ãƒ–                       â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”     â”‚ â† ã‚¿ãƒ–
â”‚   â”‚ ã™ã¹ã¦â”‚  æœ  â”‚è¢«ã‚Šç‰©â”‚ã‚¢ã‚¯ã‚»â”‚     â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚   ã‚¢ã‚¤ãƒ†ãƒ ã‚°ãƒªãƒƒãƒ‰ï¼ˆã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯ï¼‰    â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”         â”‚
â”‚   â”‚ãªã— â”‚ ğŸ‘•1 â”‚ ğŸ‘•2 â”‚ ğŸ‘•3 â”‚         â”‚ â† ã‚¢ã‚¤ãƒ†ãƒ 
â”‚   â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤         â”‚    é¸æŠä¸­ã¯æ ç·š
â”‚   â”‚ ğŸ‘•4 â”‚ ğŸ‘•5 â”‚ ğŸ‘•6 â”‚ ğŸ‘•7 â”‚         â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”¤         â”‚
â”‚   â”‚ ğŸ‘•8 â”‚ ğŸ”’  â”‚ ğŸ”’  â”‚ ğŸ”’  â”‚         â”‚ â† ãƒ­ãƒƒã‚¯ã‚¢ã‚¤ãƒ†ãƒ 
â”‚   â””â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 3.2 UIè¦ç´ ä»•æ§˜

| è¦ç´  | ã‚µã‚¤ã‚º | å‚™è€ƒ |
|------|--------|------|
| çŠ¬è¡¨ç¤ºã‚¨ãƒªã‚¢ | ç”»é¢ã®40% | 3Dè¡¨ç¤ºã€ãƒ”ãƒ³ãƒæ“ä½œã§å›è»¢ |
| ã‚«ãƒ†ã‚´ãƒªã‚¿ãƒ– | é«˜ã•50dp | 4ã‚¿ãƒ– |
| ã‚¢ã‚¤ãƒ†ãƒ ã‚»ãƒ« | 80Ã—80dp | ã‚µãƒ ãƒã‚¤ãƒ« + é¸æŠæ  |
| ã€Œãªã—ã€ã‚»ãƒ« | 80Ã—80dp | å„ã‚«ãƒ†ã‚´ãƒªã®å…ˆé ­ã«é…ç½® |

### 3.3 ã‚¢ã‚¤ãƒ†ãƒ ã‚»ãƒ«çŠ¶æ…‹

```
é€šå¸¸çŠ¶æ…‹:          é¸æŠçŠ¶æ…‹:          ãƒ­ãƒƒã‚¯çŠ¶æ…‹:
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         â”‚       â”‚ â–“â–“â–“â–“â–“â–“â–“ â”‚       â”‚         â”‚
â”‚   ğŸ‘•    â”‚       â”‚ â–“  ğŸ‘•  â–“ â”‚       â”‚   ğŸ”’    â”‚
â”‚         â”‚       â”‚ â–“â–“â–“â–“â–“â–“â–“ â”‚       â”‚         â”‚
â”‚ èµ¤Tã‚·ãƒ£ãƒ„ â”‚       â”‚ èµ¤Tã‚·ãƒ£ãƒ„ â”‚       â”‚  ï¼Ÿï¼Ÿï¼Ÿ  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
  æ ç·šãªã—          é’æ ç·š            ã‚°ãƒ¬ãƒ¼ã‚¢ã‚¦ãƒˆ
```

---

## 4. çŠ¬ã®3Dè¡¨ç¤º

### 4.1 è¡¨ç¤ºä»•æ§˜

| é …ç›® | ä»•æ§˜ |
|------|------|
| ä½ç½® | ç”»é¢ä¸Šéƒ¨ä¸­å¤® |
| ã‚µã‚¤ã‚º | ç”»é¢å¹…ã®60%ã€é«˜ã•40% |
| èƒŒæ™¯ | é€æ˜ï¼ˆã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯ï¼‰ |
| æ“ä½œ | å·¦å³ã‚¹ãƒ¯ã‚¤ãƒ—ã§å›è»¢ |
| ãƒ©ã‚¤ãƒ†ã‚£ãƒ³ã‚° | æ­£é¢å…‰ + ç’°å¢ƒå…‰ |

### 4.2 å›è»¢æ“ä½œ

```csharp
public class DressUpDogView : MonoBehaviour
{
    [SerializeField] private Transform dogTransform;
    [SerializeField] private float rotateSpeed = 0.5f;

    private float currentRotation = 0f;

    private void OnDrag(Vector2 delta)
    {
        // å·¦å³ã‚¹ãƒ¯ã‚¤ãƒ—ã§çŠ¬ã‚’å›è»¢
        currentRotation += delta.x * rotateSpeed;
        dogTransform.rotation = Quaternion.Euler(0, currentRotation, 0);
    }

    public void ResetRotation()
    {
        currentRotation = 0f;
        dogTransform.rotation = Quaternion.identity;
    }
}
```

---

## 5. ãƒ‡ãƒ¼ã‚¿è¨­è¨ˆ

### 5.1 DressUpItem ScriptableObject

```csharp
[CreateAssetMenu(fileName = "DressUpItem", menuName = "TapHouse/DressUp/Item")]
public class DressUpItem : ScriptableObject
{
    [Header("åŸºæœ¬æƒ…å ±")]
    public string itemId;           // ä¸€æ„ã®ID
    public string displayName;       // è¡¨ç¤ºå
    public DressUpCategory category; // ã‚«ãƒ†ã‚´ãƒª
    public Sprite thumbnail;         // ã‚µãƒ ãƒã‚¤ãƒ«ç”»åƒ

    [Header("3Dãƒ¢ãƒ‡ãƒ«")]
    public GameObject prefab;        // è£…ç€ç”¨Prefab
    public string attachBone;        // è£…ç€å…ˆã®ãƒœãƒ¼ãƒ³å

    [Header("å…¥æ‰‹æ¡ä»¶")]
    public bool isDefault;           // ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§æ‰€æŒ
    public int unlockCondition;      // è§£æ”¾æ¡ä»¶ï¼ˆå°†æ¥ç”¨ï¼‰
}

public enum DressUpCategory
{
    Clothes,    // æœ
    Headwear,   // è¢«ã‚Šç‰©
    Accessory   // ã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼
}
```

### 5.2 Firebaseæ§‹é€ 

```
users/{userId}/dressUp/
â”œâ”€â”€ equipped/
â”‚   â”œâ”€â”€ clothes: "item_tshirt_red"     # è£…ç€ä¸­ã®æœ
â”‚   â”œâ”€â”€ headwear: "item_hat_blue"      # è£…ç€ä¸­ã®è¢«ã‚Šç‰©
â”‚   â””â”€â”€ accessories: ["item_collar_gold"] # è£…ç€ä¸­ã®ã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼
â””â”€â”€ owned/
    â”œâ”€â”€ item_tshirt_red: true
    â”œâ”€â”€ item_tshirt_blue: true
    â”œâ”€â”€ item_hat_blue: true
    â””â”€â”€ item_collar_gold: true
```

---

## 6. è£…ç€ã‚·ã‚¹ãƒ†ãƒ 

### 6.1 ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç€ã›æ›¿ãˆã‚·ã‚¹ãƒ†ãƒ                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚ DressUpManager â”‚â†â”€â”€â”‚ DressUpUI     â”‚                    â”‚
â”‚  â”‚ (ãƒ­ã‚¸ãƒƒã‚¯)      â”‚    â”‚ (è¡¨ç¤º)        â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚          â”‚                                                  â”‚
â”‚          â†“                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚DogDressUpModelâ”‚    â”‚ FirebaseåŒæœŸ  â”‚                    â”‚
â”‚  â”‚ (3Dãƒ¢ãƒ‡ãƒ«)     â”‚â†â”€â”€â”‚              â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 6.2 DressUpManager.cs

```csharp
using UnityEngine;
using System.Collections.Generic;
using Cysharp.Threading.Tasks;

namespace TapHouse.Pocket.DressUp
{
    public class DressUpManager : MonoBehaviour
    {
        [SerializeField] private DogDressUpModel dogModel;
        [SerializeField] private DressUpItemDatabase itemDatabase;

        // ç¾åœ¨ã®è£…ç€çŠ¶æ…‹
        private string equippedClothes;
        private string equippedHeadwear;
        private List<string> equippedAccessories = new List<string>();

        // ä¸€æ™‚çš„ãªãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼çŠ¶æ…‹
        private string previewClothes;
        private string previewHeadwear;
        private List<string> previewAccessories = new List<string>();

        public async UniTask Initialize()
        {
            // Firebaseã‹ã‚‰ç¾åœ¨ã®è£…ç€çŠ¶æ…‹ã‚’èª­ã¿è¾¼ã¿
            await LoadEquippedItems();

            // çŠ¬ãƒ¢ãƒ‡ãƒ«ã«é©ç”¨
            ApplyEquippedItems();
        }

        public void PreviewItem(DressUpItem item)
        {
            switch (item.category)
            {
                case DressUpCategory.Clothes:
                    previewClothes = item.itemId;
                    break;
                case DressUpCategory.Headwear:
                    previewHeadwear = item.itemId;
                    break;
                case DressUpCategory.Accessory:
                    // ã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼ã¯ãƒˆã‚°ãƒ«
                    if (previewAccessories.Contains(item.itemId))
                        previewAccessories.Remove(item.itemId);
                    else if (previewAccessories.Count < 2)
                        previewAccessories.Add(item.itemId);
                    break;
            }

            // ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼é©ç”¨
            ApplyPreview();
        }

        public void ClearItem(DressUpCategory category)
        {
            switch (category)
            {
                case DressUpCategory.Clothes:
                    previewClothes = null;
                    break;
                case DressUpCategory.Headwear:
                    previewHeadwear = null;
                    break;
                case DressUpCategory.Accessory:
                    previewAccessories.Clear();
                    break;
            }

            ApplyPreview();
        }

        public async UniTask ConfirmChanges()
        {
            // ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ç¢ºå®š
            equippedClothes = previewClothes;
            equippedHeadwear = previewHeadwear;
            equippedAccessories = new List<string>(previewAccessories);

            // Firebaseã«ä¿å­˜
            await SaveEquippedItems();
        }

        public void CancelChanges()
        {
            // ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’ãƒªã‚»ãƒƒãƒˆ
            previewClothes = equippedClothes;
            previewHeadwear = equippedHeadwear;
            previewAccessories = new List<string>(equippedAccessories);

            // å…ƒã®çŠ¶æ…‹ã«æˆ»ã™
            ApplyEquippedItems();
        }

        private void ApplyPreview()
        {
            dogModel.SetClothes(previewClothes);
            dogModel.SetHeadwear(previewHeadwear);
            dogModel.SetAccessories(previewAccessories);
        }

        private void ApplyEquippedItems()
        {
            dogModel.SetClothes(equippedClothes);
            dogModel.SetHeadwear(equippedHeadwear);
            dogModel.SetAccessories(equippedAccessories);
        }

        private async UniTask LoadEquippedItems()
        {
            // Firebaseèª­ã¿è¾¼ã¿å®Ÿè£…
        }

        private async UniTask SaveEquippedItems()
        {
            // Firebaseä¿å­˜å®Ÿè£…
        }
    }
}
```

### 6.3 DogDressUpModel.cs

```csharp
using UnityEngine;
using System.Collections.Generic;

namespace TapHouse.Pocket.DressUp
{
    public class DogDressUpModel : MonoBehaviour
    {
        [Header("è£…ç€ãƒã‚¤ãƒ³ãƒˆ")]
        [SerializeField] private Transform clothesAttachPoint;
        [SerializeField] private Transform headwearAttachPoint;
        [SerializeField] private Transform[] accessoryAttachPoints;

        [Header("ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹")]
        [SerializeField] private DressUpItemDatabase itemDatabase;

        private GameObject currentClothes;
        private GameObject currentHeadwear;
        private List<GameObject> currentAccessories = new List<GameObject>();

        public void SetClothes(string itemId)
        {
            // ç¾åœ¨ã®æœã‚’å‰Šé™¤
            if (currentClothes != null)
            {
                Destroy(currentClothes);
            }

            if (string.IsNullOrEmpty(itemId)) return;

            // æ–°ã—ã„æœã‚’è£…ç€
            var item = itemDatabase.GetItem(itemId);
            if (item != null && item.prefab != null)
            {
                currentClothes = Instantiate(item.prefab, clothesAttachPoint);
                currentClothes.transform.localPosition = Vector3.zero;
                currentClothes.transform.localRotation = Quaternion.identity;
            }
        }

        public void SetHeadwear(string itemId)
        {
            // ç¾åœ¨ã®è¢«ã‚Šç‰©ã‚’å‰Šé™¤
            if (currentHeadwear != null)
            {
                Destroy(currentHeadwear);
            }

            if (string.IsNullOrEmpty(itemId)) return;

            // æ–°ã—ã„è¢«ã‚Šç‰©ã‚’è£…ç€
            var item = itemDatabase.GetItem(itemId);
            if (item != null && item.prefab != null)
            {
                currentHeadwear = Instantiate(item.prefab, headwearAttachPoint);
                currentHeadwear.transform.localPosition = Vector3.zero;
                currentHeadwear.transform.localRotation = Quaternion.identity;
            }
        }

        public void SetAccessories(List<string> itemIds)
        {
            // ç¾åœ¨ã®ã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼ã‚’ã™ã¹ã¦å‰Šé™¤
            foreach (var acc in currentAccessories)
            {
                Destroy(acc);
            }
            currentAccessories.Clear();

            // æ–°ã—ã„ã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼ã‚’è£…ç€
            for (int i = 0; i < itemIds.Count && i < accessoryAttachPoints.Length; i++)
            {
                var item = itemDatabase.GetItem(itemIds[i]);
                if (item != null && item.prefab != null)
                {
                    var acc = Instantiate(item.prefab, accessoryAttachPoints[i]);
                    acc.transform.localPosition = Vector3.zero;
                    acc.transform.localRotation = Quaternion.identity;
                    currentAccessories.Add(acc);
                }
            }
        }
    }
}
```

---

## 7. ã‚¢ã‚¤ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹

### 7.1 DressUpItemDatabase.cs

```csharp
using UnityEngine;
using System.Collections.Generic;
using System.Linq;

namespace TapHouse.Pocket.DressUp
{
    [CreateAssetMenu(fileName = "DressUpItemDatabase", menuName = "TapHouse/DressUp/Database")]
    public class DressUpItemDatabase : ScriptableObject
    {
        [SerializeField] private List<DressUpItem> items = new List<DressUpItem>();

        public DressUpItem GetItem(string itemId)
        {
            return items.FirstOrDefault(i => i.itemId == itemId);
        }

        public List<DressUpItem> GetItemsByCategory(DressUpCategory category)
        {
            return items.Where(i => i.category == category).ToList();
        }

        public List<DressUpItem> GetAllItems()
        {
            return items;
        }

        public List<DressUpItem> GetDefaultItems()
        {
            return items.Where(i => i.isDefault).ToList();
        }
    }
}
```

### 7.2 åˆæœŸã‚¢ã‚¤ãƒ†ãƒ ä¸€è¦§

| ã‚«ãƒ†ã‚´ãƒª | ã‚¢ã‚¤ãƒ†ãƒ å | ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ |
|---------|-----------|----------|
| æœ | èµ¤Tã‚·ãƒ£ãƒ„ | â—‹ |
| æœ | é’Tã‚·ãƒ£ãƒ„ | â—‹ |
| æœ | ãƒœãƒ¼ãƒ€ãƒ¼ã‚·ãƒ£ãƒ„ | â—‹ |
| è¢«ã‚Šç‰© | èµ¤ãƒªãƒœãƒ³ | â—‹ |
| è¢«ã‚Šç‰© | é’å¸½å­ | â—‹ |
| è¢«ã‚Šç‰© | éº¦ã‚ã‚‰å¸½å­ | â—‹ |
| ã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼ | é‡‘ã®é¦–è¼ª | â—‹ |
| ã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼ | è¶ãƒã‚¯ã‚¿ã‚¤ | â—‹ |

---

## 8. FirebaseåŒæœŸ

### 8.1 åŒæœŸã‚¿ã‚¤ãƒŸãƒ³ã‚°

| ã‚¿ã‚¤ãƒŸãƒ³ã‚° | å‹•ä½œ |
|-----------|------|
| ã‚¢ãƒ—ãƒªèµ·å‹• | è£…ç€çŠ¶æ…‹ã‚’èª­ã¿è¾¼ã¿ |
| å®Œäº†ãƒœã‚¿ãƒ³ | å¤‰æ›´ã‚’ä¿å­˜ |
| ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰â†’å¾©å¸° | æœ€æ–°çŠ¶æ…‹ã‚’èª­ã¿è¾¼ã¿ |

### 8.2 åŒæœŸå‡¦ç†

```csharp
public class DressUpFirebaseSync : MonoBehaviour
{
    private DatabaseReference dressUpRef;

    public async UniTask<EquippedItems> LoadEquippedItems()
    {
        var snapshot = await dressUpRef.Child("equipped").GetValueAsync();

        if (!snapshot.Exists) return new EquippedItems();

        return new EquippedItems
        {
            clothes = snapshot.Child("clothes").Value?.ToString(),
            headwear = snapshot.Child("headwear").Value?.ToString(),
            accessories = ParseAccessories(snapshot.Child("accessories"))
        };
    }

    public async UniTask SaveEquippedItems(EquippedItems items)
    {
        var updates = new Dictionary<string, object>
        {
            { "equipped/clothes", items.clothes ?? "" },
            { "equipped/headwear", items.headwear ?? "" },
            { "equipped/accessories", items.accessories }
        };

        await dressUpRef.UpdateChildrenAsync(updates);
    }
}

public class EquippedItems
{
    public string clothes;
    public string headwear;
    public List<string> accessories = new List<string>();
}
```

---

## 9. ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹

| # | ãƒ†ã‚¹ãƒˆå†…å®¹ | æœŸå¾…çµæœ |
|---|-----------|---------|
| 1 | æœã‚’é¸æŠ | ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼è¡¨ç¤ºã€é¸æŠæ è¡¨ç¤º |
| 2 | ã€Œãªã—ã€ã‚’é¸æŠ | ã‚¢ã‚¤ãƒ†ãƒ éè¡¨ç¤º |
| 3 | å®Œäº†ãƒœã‚¿ãƒ³ | Firebaseä¿å­˜ã€ãƒ¡ã‚¤ãƒ³ç”»é¢ã«åæ˜  |
| 4 | æˆ»ã‚‹ãƒœã‚¿ãƒ³ | å¤‰æ›´ã‚­ãƒ£ãƒ³ã‚»ãƒ«ã€å…ƒã®çŠ¶æ…‹ã«æˆ»ã‚‹ |
| 5 | çŠ¬ã‚’å›è»¢ | ã‚¹ãƒ¯ã‚¤ãƒ—ã§å›è»¢ |
| 6 | ã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼2ã¤è£…ç€ | ä¸¡æ–¹è¡¨ç¤º |
| 7 | ã‚¢ã‚¯ã‚»ã‚µãƒªãƒ¼3ã¤ç›®é¸æŠ | è£…ç€ã•ã‚Œãªã„ï¼ˆä¸Šé™2ï¼‰ |
| 8 | ã‚¢ãƒ—ãƒªå†èµ·å‹• | è£…ç€çŠ¶æ…‹ãŒç¶­æŒ |

---

## 10. æ–°è¦ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

| ãƒ•ã‚¡ã‚¤ãƒ« | å½¹å‰² |
|----------|------|
| `Assets/Scripts/Pocket/DressUp/DressUpManager.cs` | ç€ã›æ›¿ãˆãƒ­ã‚¸ãƒƒã‚¯ |
| `Assets/Scripts/Pocket/DressUp/DressUpItem.cs` | ã‚¢ã‚¤ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ |
| `Assets/Scripts/Pocket/DressUp/DressUpItemDatabase.cs` | ã‚¢ã‚¤ãƒ†ãƒ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ |
| `Assets/Scripts/Pocket/DressUp/DogDressUpModel.cs` | 3Dãƒ¢ãƒ‡ãƒ«åˆ¶å¾¡ |
| `Assets/Scripts/Pocket/DressUp/DressUpUI.cs` | UIåˆ¶å¾¡ |
| `Assets/Scripts/Pocket/DressUp/DressUpFirebaseSync.cs` | FirebaseåŒæœŸ |
| `Assets/Resources/Pocket/DressUp/DressUpItemDatabase.asset` | ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚»ãƒƒãƒˆ |
